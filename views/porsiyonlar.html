<!-- views/porsiyonlar.html -->

<h2>Porsiyon Yönetimi</h2>

<div class="card mb-4">
    <div class="card-header">
        <!-- Başlık JS ile güncellenecek (düzenleme için) -->
        <h2 class="card-title" id="porsiyonFormBaslik">Yeni Porsiyon Ekle</h2>
    </div>
    <div class="card-body">
        <form id="porsiyonEkleForm">
            <!-- YENİ (Düzenleme için): Porsiyon ID'sini tutmak için gizli alan -->
            <input type="hidden" id="porsiyonIdInput" value="">

            <div class="mb-3">
                <label class="form-label" for="sonUrunId">Son Ürün:</label> <!-- ID'si sonUrunId olarak düzeltildi -->
                <select class="form-select" id="sonUrunId" required>
                    <option value="">-- Son Ürün Seçiniz --</option>
                    <!-- Son ürünler buraya JavaScript ile doldurulacak -->
                </select>
                 <small class="form-text text-muted">Hangi son ürüne ait porsiyon ekliyorsunuz?</small>
            </div>
            <div class="mb-3">
                <label class="form-label" for="porsiyonAdi">Porsiyon Adı:</label>
                <input type="text" class="form-control" id="porsiyonAdi" required>
                 <small class="form-text text-muted">Örn: 1 Porsiyon, 1.5 Porsiyon, Duble</small>
            </div>
             <div class="mb-3">
                <label class="form-label" for="satisBirimiKisaAd">Satış Birimi (Kısa Ad):</label> <!-- ID'si satisBirimiKisaAd olarak düzeltildi -->
                <select class="form-select" id="satisBirimiKisaAd" required>
                     <option value="">-- Satış Birimi Seçiniz --</option>
                    <!-- Birimler buraya JavaScript ile doldurulacak -->
                </select>
                 <small class="form-text text-muted">Bu porsiyon hangi birimde satılacak? (Porsiyon, Adet vb.)</small>
            </div>
            <div class="mb-3">
                <label class="form-label" for="varsayilanSatisFiyati">Varsayılan Satış Fiyatı:</label>
                <input type="number" class="form-control" id="varsayilanSatisFiyati" step="0.01" min="0"> <!-- min="0" eklendi -->
                 <small class="form-text text-muted">Bu porsiyon için varsayılan satış fiyatı (İsteğe bağlı).</small>
            </div>
            <!-- Buton metni ve ID'si JS ile yönetilecek (düzenleme için) -->
            <button type="submit" id="porsiyonFormSubmitButton" class="btn btn-primary">Porsiyon Ekle</button>
            <!-- YENİ (Düzenleme için): İptal butonu -->
            <button type="button" id="porsiyonFormCancelButton" class="btn btn-secondary ms-2 d-none">İptal</button>
        </form>
    </div>
</div>

<div class="card">
    <div class="card-header">
        <h2 class="card-title">Porsiyon Listesi</h2>
    </div>
    <div class="table-responsive">
        <table id="porsiyonlarTable" class="table table-striped table-hover">
          <thead>
            <tr>
              <th>ID</th>
              <th>Son Ürün</th>
              <th>Porsiyon Adı</th>
              <th>Satış Birimi</th>
              <th>Satış Fiyatı</th> <!-- Sadece "Satış Fiyatı" olarak kısaltıldı -->
              <th>Eylemler</th>   <!-- YENİ: Eylemler sütunu eklendi -->
            </tr>
          </thead>
          <tbody>
            <tr>
                <!-- Colspan 6'ya güncellendi -->
                <td colspan="6" class="text-center">Porsiyonlar yükleniyor...</td>
            </tr>
          </tbody>
        </table>
    </div>
</div>